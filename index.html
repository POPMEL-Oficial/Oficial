<!DOCTYPE html>
<html lang="br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POPMEL Oficial</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '24192442997008925');
    fbq('track', 'PageView');
    
    // Helper functions for tracking
    function generateEventId() {
      return 'event_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    }
    
    function getCookieValue(name) {
      const match = document.cookie.match('(^|;)\\s*' + name + '\\s*=\\s*([^;]+)');
      return match ? match.pop() : '';
    }
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=24192442997008925&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    <script src="integration.js"></script> 
    <!-- Signals Gateway Pixel Code -->
    <script>
    !function(a,h,e,v,n,t,s)
    {if(a.cbq)return;n=a.cbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!a._cbq)a._cbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=h.createElement(e);t.async=!0;
    t.src=v;s=h.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://sgw.stape.ac/sdk/6270750353599129361/events.js');
    cbq('setHost', 'https://sgw.stape.ac/');
    cbq('init', '6270750353599129361');
    cbq('track', 'PageView', {
      event_source_url: window.location.href,
      user_data: {
        client_user_agent: navigator.userAgent,
        fbp: getCookieValue('_fbp'),
        fbc: getCookieValue('_fbc')
      }
    });
    </script>
    <!-- End Signals Gateway Pixel Code -->
    
    <!-- Popup Styles -->
    <style>
    .popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }
    
    .popup-container {
        background: white;
        width: 90%;
        max-width: 400px;
        border-radius: 12px;
        overflow: hidden;
        animation: popupFadeIn 0.3s ease-out;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
    }
    
    @keyframes popupFadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .popup-header {
        display: flex;
        justify-content: flex-end;
        padding: 10px;
    }
    
    .popup-close {
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
        color: #888;
    }
    
    .popup-image-container {
        width: 100%;
        text-align: center;
        background: #f8f8f8;
    }
    
    .popup-image {
        max-width: 100%;
        height: auto;
        max-height: 250px;
        object-fit: contain;
    }
    
    .popup-content {
        padding: 20px;
        text-align: center;
    }
    
    .popup-title {
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 10px;
        color: #333;
    }
    
    .popup-description {
        font-size: 14px;
        color: #555;
        margin-bottom: 15px;
        line-height: 1.5;
    }
    
    .popup-telegram-btn {
        display: block;
        background: #0088cc;
        color: white;
        padding: 12px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        margin-top: 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        transition: all 0.2s ease;
    }
    
    .popup-telegram-btn i {
        margin-right: 5px;
    }
    
    .popup-telegram-btn:hover {
        background: #006aa9;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    
    .popup-continue-btn {
        display: block;
        background: #4CAF50;
        color: white;
        padding: 12px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        margin-top: 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        transition: all 0.2s ease;
    }
    
    .popup-continue-btn:hover {
        background: #43a047;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    </style>
</head>
<body>
    <div class="mobile-container">
        <header class="app-header">
            <div class="google-play">
                <img src="images/Google_Play-Logo.wine.png" alt="Google Play" class="gp-logo">
                <div class="dev-badge">
                    <img src="images/TopDeveloper.png" alt="Top Developer">
                </div>
            </div>
        </header>

        <!-- App Info Section -->
        <section class="app-info">
            <div class="app-identity">
                <img src="images/POPMELLOGO.webp" alt="POPMEL" class="app-icon">
                <div class="app-title">
                    <h1>POPMEL</h1>
                    <h2 class="app-url">POPMEL.COM</h2>
                    <p class="verification">Verificado pelo aplicativo</p>
                </div>
            </div>
            
            <div class="app-stats">
                <div class="stat">
                    <div class="rating">4.9 <i class="fas fa-star"></i></div>
                    <div class="reviews">300.000+ reviews</div>
                </div>
                <div class="stat">
                    <div class="downloads">1M+</div>
                    <div class="downloading">Baixando</div>
                </div>
                <div class="stat">
                    <div class="age-rating">18+</div>
                    <div class="age-info">Rated for 18+</div>
                </div>
            </div>
            
            <a href="https://popmel33.com/main/inicio?ch=25837" class="install-btn" id="installButton">
                <i class="fas fa-bolt"></i> Cadastre-se, deposite R$ 20 e reivindique seus bônus diários, semanais e de código instantaneamente!
            </a>
            
            <div class="action-buttons">
                <button class="action-btn share-btn">
                    <i class="fas fa-share-alt"></i> Share
                </button>
                <button class="action-btn wishlist-btn" onclick="document.getElementById('popupOverlay').style.display = 'flex'">
                    <i class="far fa-bookmark"></i> Mais código grátis!
                </button>
                <button class="action-btn" id="openHoneypotFormBtn" style="background-color: #ffc107; color: #333; display: none;">
                    <i class="fas fa-user-secret"></i> Testar Formulário com Honeypot
                </button>
            </div>
        </section>
        
        <!-- Carousel Section -->
        <section class="app-carousel">
            <div class="carousel-container">
                <div class="carousel-track">
                    <div class="carousel-item"><img src="images/STEP TO CLAIM BONUS 1.png" alt="Step 1 to Claim Bonus" class="portrait-image"></div>
                    <div class="carousel-item"><img src="images/STEP TO CLAIM BONUS 2.png" alt="Step 2 to Claim Bonus" class="portrait-image"></div>
                    <div class="carousel-item"><img src="images/Image1.jpg" alt="POPMEL Game Screenshot 1" class="portrait-image"></div>
                    <div class="carousel-item"><img src="images/Image5.jpg" alt="POPMEL Game Screenshot 2" class="portrait-image"></div>
                    <div class="carousel-item"><img src="images/Image3.jpg" alt="POPMEL Game Screenshot 3" class="portrait-image"></div>
                    <div class="carousel-item"><img src="images/Image4.jpg" alt="POPMEL Game Screenshot 4" class="portrait-image"></div>
                    <div class="carousel-item"><img src="images/Image2.jpg" alt="POPMEL Game Screenshot 5" class="portrait-image"></div>
                </div>
                <div class="carousel-nav">
                    <button class="nav-btn prev"><i class="fas fa-chevron-left"></i></button>
                    <div class="carousel-indicators"></div>
                    <button class="nav-btn next"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </section>
        
        <!-- About Section -->
        <section class="about-section">
            <div class="section-header">
                <h2>Sobre este aplicativo</h2>
                <i class="fas fa-chevron-right"></i>
            </div>
            <p class="app-description">POPMEL.COM</p>
            <div class="bonus-list">
                <div class="bonus-item">
                    <i class="fas fa-gift"></i>
                    <span>Bonus de boas vindas R$ 203</span>
                </div>
                <div class="bonus-item">
                    <i class="fas fa-gift"></i>
                    <span>Bonus de indicação R$ 100 até</span>
                </div>
                <div class="bonus-item">
                    <i class="fas fa-gift"></i>
                    <span>Novos membros podem ganhar até R$ 500 em bonus após fazer login no dia seguinte!</span>
                </div>
                <div class="bonus-item">
                    <i class="fas fa-gift"></i>
                    <span>Bonus novo membro dias 2, 3, 7, 15, 30 ganhe um bonus misterioso até R$ 7.777</span>
                </div>
                <div class="bonus-item">
                    <i class="fas fa-gift"></i>
                    <span>Bonus de nivel vip diário e mensal, comece agora! o evento está em andamento!</span>
                </div>
            </div>

            <div class="app-meta">
                <div class="meta-item">
                    <span class="meta-label">Atualizado em</span>
                    <span class="meta-value">May 18, 2025</span>
                </div>
            </div>

            <div class="app-tags">
                <span class="tag">#1 principais apps gratuitos ação</span>
                <span class="tag">Ação</span>
                <span class="tag">Jogos de plataforma</span>
                <span class="tag">Casual</span>
                <span class="tag">Multiplayer</span>
                <span class="tag">Estilizado</span>
            </div>
        </section>

        <!-- Data Security Section -->
        <section class="security-section">
            <div class="section-header">
                <h2>Segurança dos dados</h2>
                <i class="fas fa-chevron-right"></i>
            </div>
            <p class="security-intro">
                Sua segurança começa com o entendimento de como os desenvolvedores coletam e compartilham seus dados. As práticas de segurança e privacidade de dados podem variar de acordo com o uso, a região e a idade. O desenvolvedor forneceu as informações a seguir, que podem ser atualizadas ao longo do tempo.
            </p>

            <div class="security-item">
                <i class="fas fa-share-alt"></i>
                <div class="security-content">
                    <h3>Este app pode compartilhar estes tipos de dados com terceiros</h3>
                    <p>Local, Informações financeiras e Identificadores do dispositivo e outros</p>
                </div>
            </div>

            <div class="security-item">
                <i class="fas fa-cloud-download-alt"></i>
                <div class="security-content">
                    <h3>Este app pode coletar estes tipos de dados</h3>
                    <p>Local, Informações pessoais e mais 5</p>
                </div>
            </div>

            <div class="security-item">
                <i class="fas fa-lock"></i>
                <div class="security-content">
                    <h3>Os dados não são criptografados</h3>
                </div>
            </div>

            <div class="security-item">
                <i class="fas fa-trash-alt"></i>
                <div class="security-content">
                    <h3>Você pode solicitar a exclusão dos dados</h3>
                </div>
            </div>
        </section>

        <!-- Reviews Section -->
        <section class="reviews-section">
            <div class="section-header">
                <h2>Classificações e revisões</h2>
                <i class="fas fa-chevron-right"></i>
            </div>
            
            <p class="reviews-intro">
                As avaliações e avaliações são verificadas e de pessoas que usam o mesmo tipo de dispositivo que você usa.
            </p>

            <div class="device-selector">
                <button class="device-btn active">
                    <i class="fas fa-mobile-alt"></i> Telephone
                </button>
                <button class="device-btn">
                    <i class="fas fa-tablet-alt"></i> Tablet
                </button>
                <button class="device-btn">
                    <i class="fas fa-laptop"></i> Chromebook
                </button>
            </div>

            <div class="rating-summary">
                <div class="big-rating">
                    <span class="big-rating-value">4.9</span>
                    <div class="big-rating-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <span class="total-ratings">300.000</span>
                </div>
                <div class="rating-bars">
                    <div class="rating-bar-row">
                        <span class="rating-bar-label">5</span>
                        <div class="rating-bar">
                            <div class="rating-bar-fill level-5"></div>
                        </div>
                    </div>
                    <div class="rating-bar-row">
                        <span class="rating-bar-label">4</span>
                        <div class="rating-bar">
                            <div class="rating-bar-fill level-4"></div>
                        </div>
                    </div>
                    <div class="rating-bar-row">
                        <span class="rating-bar-label">3</span>
                        <div class="rating-bar">
                            <div class="rating-bar-fill level-3"></div>
                        </div>
                    </div>
                    <div class="rating-bar-row">
                        <span class="rating-bar-label">2</span>
                        <div class="rating-bar">
                            <div class="rating-bar-fill" style="width: 0.5%"></div>
                        </div>
                    </div>
                    <div class="rating-bar-row">
                        <span class="rating-bar-label">1</span>
                        <div class="rating-bar">
                            <div class="rating-bar-fill" style="width: 0.5%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="review-list">
                <div class="review">
                    <div class="review-header">
                        <img src="https://i.pravatar.cc/40?img=3" alt="Miguel" class="reviewer-avatar">
                        <div class="reviewer-info">
                            <h3>Miguel</h3>
                            <div class="review-meta">
                                <div class="review-stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span class="review-date">Mei 7, 2025</span>
                            </div>
                        </div>
                        <button class="more-options-btn">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </div>
                    <p class="review-text">Jogo divertido com bônus enormes</p>
                </div>
                <div class="review">
                    <div class="review-header">
                        <img src="https://i.pravatar.cc/40?img=7" alt="Jose" class="reviewer-avatar">
                        <div class="reviewer-info">
                            <h3>Jose</h3>
                            <div class="review-meta">
                                <div class="review-stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span class="review-date">January 5, 2025</span>
                            </div>
                        </div>
                        <button class="more-options-btn">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </div>
                    <p class="review-text">Jogo casual muito divertido, você também pode ganhar dinheiro</p>
                </div>
            </div>
        </section>

        <!-- Footer Links Section -->
        <section class="footer-links">
            <div class="link-group">
                <a href="#">Google Play</a>
                <a href="#">Play Pass</a>
                <a href="#">Play Points</a>
                <a href="#">Vales-presente</a>
                <a href="#">Resgatar</a>
                <a href="#">Política de reembolso</a>
                <a href="#">Crianças e família</a>
                <a href="#">Guia para a família</a>
                <a href="#">Compartilhamento em família</a>
            </div>
            <div class="link-row">
                <a href="#">Termos de Serviço</a>
                <a href="#">Privacidade</a>
                <a href="#">Sobre o Google Play</a>
            </div>
            <div class="link-row">
                <a href="#">Desenvolvedores</a>
                <a href="#">Google Store</a>
                <a href="#">Todos os preços incluem Tributo</a>
            </div>
        </section>
        
        <!-- Navigation Footer -->
        <footer class="app-nav">
            <button class="nav-item active">
                <i class="fas fa-gamepad"></i>
                <span>Games</span>
            </button>
            <button class="nav-item">
                <i class="fas fa-th"></i>
                <span>Apps</span>
            </button>
            <button class="nav-item">
                <i class="fas fa-film"></i>
                <span>Movies</span>
            </button>
            <button class="nav-item">
                <i class="fas fa-book"></i>
                <span>Books</span>
            </button>
            <button class="nav-item">
                <i class="fas fa-child"></i>
                <span>Kids</span>
            </button>
        </footer>
    </div>
    
    <!-- New Popup for Honeypot Form -->
    <div class="popup-overlay" id="honeypotPopupOverlay" style="display:none;">
        <div class="popup-container">
            <div class="popup-header">
                <button class="popup-close" id="honeypotPopupClose">×</button>
            </div>
            <div class="popup-content">
                <p>Este formulário é especificamente para testar a proteção honeypot.</p>
                <h3 class="popup-title">Formulário de Teste Honeypot</h3>
                <form id="honeypotForm">
                    <div>
                        <label for="honeypotName" style="display: block;">Nome:</label>
                        <input type="text" id="honeypotName" name="name" required>
                    </div>
                    <div>
                        <label for="honeypotContactNumber" style="display: block;">Número de Contato:</label>
                        <input type="text" id="honeypotContactNumber" name="contact_number" required>
                    </div>
                    <div style="position: absolute; left: -5000px;" aria-hidden="true">
                        <label for="honeypotComments" style="display: block;">Não preencha este campo:</label>
                        <input type="text" id="honeypotComments" name="comments" tabindex="-1" autocomplete="off">
                    </div>
                    <button type="submit">Enviar Formulário Honeypot</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Custom Popup -->
    <div class="popup-overlay" id="popupOverlay">
        <div class="popup-container">
            <div class="popup-header">
                <button class="popup-close" id="popupClose">×</button>
            </div>
            <div class="popup-content">
                <p>Após preencher este formulário, você receberá um código de presente grátis!</p>
                <h3 class="popup-title" id="popupTitle">Formulário de Contato</h3>
                <form id="contactForm">
                    <div>
                        <label for="name" style="display: block;">Nome:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div>
                        <label for="contact_number" style="display: block;">Numero de telegrama/Whatsapp:</label>
                        <input type="text" id="contact_number" name="contact_number" required>
                    </div>
                    <div style="position: absolute; left: -5000px;" aria-hidden="true">
                        <label for="comments" style="display: block;">Do not fill this field:</label>
                        <input type="text" id="comments" name="comments" tabindex="-1" autocomplete="off">
                    </div>
                    <button type="submit">Enviar</button>
                </form>
            </div>
        </div>
    </div>
    
    <script src="images/placeholder.js"></script>
    <script src="script.js"></script>
    
    <!-- Image Lightbox Modal -->
    <div id="imageLightboxOverlay" class="lightbox-overlay">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-content" id="lightboxImg">
    </div>
    <!-- End Image Lightbox Modal -->

    <!-- Popup Script -->
    <script>
    // Popup Configuration - Easy to customize
    const popupConfig = {
        image: "images/POPMEL Bonus.png",
        title: "POPMEL - Suporte Exclusivo",
        description: "Canal de bônus exclusivo para ajudar o novo membro!",
        mentorButtonText: "Para reivindicar o bônus e acessar o canal, clique aqui!",
        continueLink: "https://popmel33.com/main/inicio?ch=25837",
        continueButtonText: "Continuar para continuar com o cadastro"
    };
    
    // Elements
    const installButton = document.getElementById('installButton');
    const popupOverlay = document.getElementById('popupOverlay');
    const popupClose = document.getElementById('popupClose');
    const contactForm = document.getElementById('contactForm');
    
    // --- New Honeypot Form Elements ---
    const openHoneypotFormBtn = document.getElementById('openHoneypotFormBtn');
    const honeypotPopupOverlay = document.getElementById('honeypotPopupOverlay');
    const honeypotPopupClose = document.getElementById('honeypotPopupClose');
    const honeypotForm = document.getElementById('honeypotForm');
    // --- End New Honeypot Form Elements ---

    // Apply configuration
    function applyPopupConfig() {
        const img = document.getElementById('popupImage');
        if (img && popupConfig.image) img.src = popupConfig.image;

        const title = document.getElementById('popupTitle');
        if (title && popupConfig.title) title.textContent = popupConfig.title;

        const desc = document.getElementById('popupDescription');
        if (desc && popupConfig.description) desc.textContent = popupConfig.description;

        const mentorBtn = document.getElementById('mentorButton');
        if (mentorBtn) {
            if (popupConfig.mentorLink) mentorBtn.href = popupConfig.mentorLink;
            if (popupConfig.mentorButtonText) mentorBtn.innerHTML = `<i class="fab fa-telegram"></i> ${popupConfig.mentorButtonText}`;
        }

        const continueBtn = document.getElementById('continueButton');
        if (continueBtn) {
            if (popupConfig.continueLink) continueBtn.href = popupConfig.continueLink;
            if (popupConfig.continueButtonText) continueBtn.textContent = popupConfig.continueButtonText;
        }
    }
    
    // Initialize popup
    applyPopupConfig();
    
    // Event listener for install button
    if (installButton) {
        installButton.addEventListener('click', function(e) {
            // Don't prevent default - allow normal link navigation
            // e.preventDefault();
            
            const eventId = generateEventId(); 
            const eventData = {
                content_name: 'POPMEL App Installation',
                content_category: 'Gaming Apps',
                content_type: 'product_installation',
                step: 'final'
            };
            
            if (typeof fbq === 'function') {
                fbq('track', 'CompleteInstallation', eventData, {eventID: eventId});
            }
            
            if (typeof cbq === 'function') {
                cbq('track', 'CompleteInstallation', {
                    event_id: eventId,
                    event_source_url: window.location.href,
                    user_data: {
                        client_user_agent: navigator.userAgent,
                        fbp: getCookieValue('_fbp'), 
                        fbc: getCookieValue('_fbc')  
                    },
                    custom_data: eventData
                });
            }
        });
    }
    
    // Event listener for closing the popup via the 'X' button
    if (popupClose && popupOverlay) {
        popupClose.addEventListener('click', function() {
            popupOverlay.style.display = 'none';
        });
    } else {
        if (!popupClose) console.error("Debug: Popup close button (id='popupClose') not found!");
        if (!popupOverlay) console.error("Debug: Popup overlay (id='popupOverlay') not found!");
    }
    
    // Event listener for closing the popup by clicking outside
    if (popupOverlay) {
        popupOverlay.addEventListener('click', function(e) {
            if (e.target === popupOverlay) { 
                popupOverlay.style.display = 'none';
            }
        });
    }

    // --- New Honeypot Form Popup Handlers ---
    if (openHoneypotFormBtn && honeypotPopupOverlay) {
        openHoneypotFormBtn.addEventListener('click', function() {
            honeypotPopupOverlay.style.display = 'flex';
        });
    }
    if (honeypotPopupClose && honeypotPopupOverlay) {
        honeypotPopupClose.addEventListener('click', function() {
            honeypotPopupOverlay.style.display = 'none';
        });
    }
    if (honeypotPopupOverlay) {
        honeypotPopupOverlay.addEventListener('click', function(e) {
            if (e.target === honeypotPopupOverlay) {
                honeypotPopupOverlay.style.display = 'none';
            }
        });
    }
    // --- End New Honeypot Form Popup Handlers ---
    
    // Event listener for the ORIGINAL contactForm (Mais código grátis!)
    if (contactForm && popupOverlay) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nameInput = document.getElementById('name');
            const contactNumberInput = document.getElementById('contact_number');
            
            const name = nameInput ? nameInput.value : '';
            const contactNumber = contactNumberInput ? contactNumberInput.value : '';
            
            console.log('Original Contact Form submitted:', { name, contactNumber });
            
            // New custom event for original form submission
            if (typeof fbq === 'function') {
                fbq('trackCustom', 'FormSubmitted', {
                    formId: 'contactForm',
                    content_name: 'Original Contact Form Submission',
                    name: name, 
                    contactNumber: contactNumber,
                    user_data: {
                        client_user_agent: navigator.userAgent,
                        fbp: getCookieValue('_fbp'),
                        fbc: getCookieValue('_fbc')
                    }
                });
            }

            // Basic Lead tracking for the original form
            if (typeof fbq === 'function') {
                fbq('track', 'Lead', {
                    content_name: 'Original Contact Form Submission',
                    content_category: 'Form',
                    formId: 'contactForm',
                    user_data: {
                        client_user_agent: navigator.userAgent,
                        fbp: getCookieValue('_fbp'),
                        fbc: getCookieValue('_fbc')
                    }
                });
            }

            // Display the gift code message within the popup
            const popupContent = popupOverlay.querySelector('.popup-content');
            if (popupContent) {
                popupContent.innerHTML = '<h3 class="popup-title">Código Recebido!</h3><p style="font-size: 16px; color: #333; margin-top: 15px;">Aqui está o seu código gratuito! <strong style="color: #4CAF50; font-size: 18px;">YFPSP6HH</strong>. Não se esqueça de resgatá-lo em nossa plataforma!</p><p style="font-size: 12px; color: #777; margin-top:20px;">Você pode fechar esta janela.</p>';
            }
            // Do not hide the popup automatically: popupOverlay.style.display = 'none';
            // The user can close it with the existing X button or by clicking outside.
        });
    }

    // Event listener for the NEW honeypotForm
    if (honeypotForm && honeypotPopupOverlay) {
        honeypotForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const nameInput = document.getElementById('honeypotName');
            const contactNumberInput = document.getElementById('honeypotContactNumber');
            const honeypotInput = document.getElementById('honeypotComments');

            const name = nameInput ? nameInput.value : '';
            const contactNumber = contactNumberInput ? contactNumberInput.value : '';
            const honeypotValue = honeypotInput ? honeypotInput.value : '';

            if (honeypotValue !== '') {
                console.log('Honeypot triggered on Honeypot Form. Possible bot submission.');
                document.dispatchEvent(new CustomEvent('bot', { 
                    detail: { formId: 'honeypotForm', name: name, contactNumber: contactNumber }
                }));
                if (typeof fbq === 'function') {
                    fbq('trackCustom', 'BotDetectedOnHoneypotForm', { 
                        formId: 'honeypotForm', 
                        name: name, 
                        contactNumber: contactNumber,
                        user_data: {
                            client_user_agent: navigator.userAgent,
                            fbp: getCookieValue('_fbp'),
                            fbc: getCookieValue('_fbc')
                        }
                    });
                }
                alert('Obrigado! (Honeypot Detected)');
                honeypotPopupOverlay.style.display = 'none';
                return;
            }

            const MAX_SUBMISSIONS_HONEYPOT = 3;
            const TIME_WINDOW_MS_HONEYPOT = 10 * 60 * 1000; // 10 minutes
            const storageKeyHoneypot = 'honeypotFormSubmissionTimestamps';

            let submissionTimestamps = JSON.parse(localStorage.getItem(storageKeyHoneypot) || '[]');
            const now = Date.now();
            submissionTimestamps = submissionTimestamps.filter(timestamp => (now - timestamp) < TIME_WINDOW_MS_HONEYPOT);

            if (submissionTimestamps.length >= MAX_SUBMISSIONS_HONEYPOT) {
                console.warn('Rate limit exceeded for Honeypot Form.');
                alert('Você tentou enviar o formulário muitas vezes. Por favor, tente novamente mais tarde. (Honeypot Form Rate Limit)');
                return;
            }
            
            document.dispatchEvent(new CustomEvent('not bot', { 
                detail: { formId: 'honeypotForm', name: name, contactNumber: contactNumber }
            }));
            if (typeof fbq === 'function') {
                fbq('trackCustom', 'NotBotDetectedOnHoneypotForm', { 
                    formId: 'honeypotForm', 
                    name: name, 
                    contactNumber: contactNumber,
                    user_data: {
                        client_user_agent: navigator.userAgent,
                        fbp: getCookieValue('_fbp'),
                        fbc: getCookieValue('_fbc')
                    }
                });
            }

            submissionTimestamps.push(now);
            localStorage.setItem(storageKeyHoneypot, JSON.stringify(submissionTimestamps));

            console.log('Honeypot Form submitted:', { name, contactNumber });
            alert('Obrigado! Seu código de presente será enviado em breve. (Honeypot Form)');
            honeypotPopupOverlay.style.display = 'none';
            
            if (typeof fbq === 'function') {
                fbq('track', 'Lead', {
                    content_name: 'Honeypot Form Submission',
                    content_category: 'Form',
                    formId: 'honeypotForm',
                    user_data: {
                        client_user_agent: navigator.userAgent,
                        fbp: getCookieValue('_fbp'),
                        fbc: getCookieValue('_fbc')
                    }
                });
            }
        });
    }

    // --- Carousel Image Click Tracking ---
    const carouselImage1 = document.querySelector('img[alt="Step 1 to Claim Bonus"]');
    const carouselImage2 = document.querySelector('img[alt="Step 2 to Claim Bonus"]');

    if (carouselImage1) {
        carouselImage1.addEventListener('click', function() {
            console.log('Carousel Image 1 (Step 1 Bonus) clicked.');
            if (typeof fbq === 'function') {
                fbq('trackCustom', 'CarouselImage_Step1Bonus_Clicked', { 
                    image_alt: 'Step 1 to Claim Bonus',
                    image_src: carouselImage1.src,
                    user_data: {
                        client_user_agent: navigator.userAgent,
                        fbp: getCookieValue('_fbp'),
                        fbc: getCookieValue('_fbc')
                    }
                });
            }
        });
    }

    if (carouselImage2) {
        carouselImage2.addEventListener('click', function() {
            console.log('Carousel Image 2 (Step 2 Bonus) clicked.');
            if (typeof fbq === 'function') {
                fbq('trackCustom', 'CarouselImage_Step2Bonus_Clicked', { 
                    image_alt: 'Step 2 to Claim Bonus',
                    image_src: carouselImage2.src,
                    user_data: {
                        client_user_agent: navigator.userAgent,
                        fbp: getCookieValue('_fbp'),
                        fbc: getCookieValue('_fbc')
                    }
                });
            }
        });
    }
    // --- End Carousel Image Click Tracking ---
    </script>

    <!-- Access Control Script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fingerprintjs2/2.1.4/fingerprint2.min.js"></script>
    <script>
      // Wait for page to be fully loaded
      setTimeout(function() {
        // Only collect details needed for fingerprinting
        Fingerprint2.get({excludes: {webgl: true, canvas: true}}, function(components) {
          const fingerprint = Fingerprint2.x64hash128(components.map(function(pair) {
            return pair.value;
          }).join(''), 31);
          
          // Check if this fingerprint has been blocked
          const blockedFingerprints = JSON.parse(localStorage.getItem('blockedFingerprints') || '[]');
          if (blockedFingerprints.includes(fingerprint)) {
            document.body.innerHTML = '<div style="text-align:center;padding:50px;font-family:Arial,sans-serif;"><h1>Acesso Limitado</h1><p>Muitas visitas detectadas. Por favor, tente novamente mais tarde.</p></div>';
            return;
          }
          
          // Track this visit
          const visits = JSON.parse(localStorage.getItem('fingerprints') || '[]');
          const now = Date.now();
          
          // Keep only visits from the last 10 minutes and from this fingerprint
          const recentVisits = visits.filter(v => v.fingerprint === fingerprint && (now - v.timestamp) < 600000); // 10 minutes = 600000ms
          
          // If too many recent visits (3+ in last 10 minutes), block future access
          if (recentVisits.length >= 3) {
            blockedFingerprints.push(fingerprint);
            localStorage.setItem('blockedFingerprints', JSON.stringify(blockedFingerprints));
            alert('Você fez muitas visitas a este site. O acesso será limitado por 24 horas.');
          }
          
          // Record this visit
          visits.push({fingerprint: fingerprint, timestamp: now});
          
          // Clean up old visits (older than 24 hours)
          const recentAllVisits = visits.filter(v => (now - v.timestamp) < 86400000);
          localStorage.setItem('fingerprints', JSON.stringify(recentAllVisits));
          
          // Clean up expired blocks (older than 24 hours)
          const blockTimestamps = JSON.parse(localStorage.getItem('blockTimestamps') || '{}');
          if (blockedFingerprints.length > 0) {
            // Create timestamp for new blocks
            blockedFingerprints.forEach(fp => {
              if (!blockTimestamps[fp]) {
                blockTimestamps[fp] = now;
              }
            });
            
            // Remove expired blocks
            const activeBlocks = blockedFingerprints.filter(fp => {
              return !blockTimestamps[fp] || (now - blockTimestamps[fp]) < 86400000;
            });
            
            localStorage.setItem('blockedFingerprints', JSON.stringify(activeBlocks));
            localStorage.setItem('blockTimestamps', JSON.stringify(blockTimestamps));
          }
        });
      }, 1000);
    </script>

    <!-- Anti-Inspection Script -->
    <script>
      (function() {
        // Disable right-click
        document.addEventListener('contextmenu', function(e) {
          e.preventDefault();
          alert('Acesso negado.');
          return false;
        }, false);

        // Disable keyboard shortcuts
        document.addEventListener('keydown', function(e) {
          // F12 key
          if (e.keyCode == 123) {
            e.preventDefault();
            return false;
          }
          
          // Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+Shift+C, Ctrl+U
          if (e.ctrlKey && 
              (e.shiftKey && (e.keyCode == 73 || e.keyCode == 74 || e.keyCode == 67) || 
               e.keyCode == 85)) {
            e.preventDefault();
            return false;
          }
        }, false);

        // Detect DevTools
        function detectDevTools() {
          const widthThreshold = window.outerWidth - window.innerWidth > 160;
          const heightThreshold = window.outerHeight - window.innerHeight > 160;
          
          if (widthThreshold || heightThreshold) {
            document.body.innerHTML = '<div style="text-align:center;padding:50px;font-family:Arial,sans-serif;"><h1>Acesso Negado</h1><p>Ferramentas de desenvolvedor detectadas. Por favor, feche-as para continuar.</p></div>';
          }
        }

        // Check periodically
        setInterval(detectDevTools, 1000);

        // Prevent selection of content
        document.onselectstart = function() { return false; };
        document.onmousedown = function() { return false; };
      })();
    </script>
</body>
</html> 